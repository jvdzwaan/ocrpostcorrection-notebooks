schema: '2.0'
stages:
  data-split:
    cmd: python src/stages/data-split.py --config params.yaml
    deps:
    - path: src/stages/data-split.py
      md5: d9aa4e9397c8f8c3b69061a274b5cf82
      size: 1391
    params:
      params.yaml:
        base:
          loglevel: INFO
          seed: 8232
          raw-data-zip: data/raw/ICDAR2019_POCR_competition_dataset.zip
        data-split:
          val-size: 0.1
          train-split: data/splits/train.csv
          val-split: data/splits/val.csv
          test-split: data/splits/test.csv
    outs:
    - path: data/splits/test.csv
      md5: e7ddfb949902c81b7ee76971295b3688
      size: 151272
    - path: data/splits/train.csv
      md5: 135ea87880a8dd2f69684c9a5a9466dc
      size: 532103
    - path: data/splits/val.csv
      md5: c74421cede23176eed7e7323ee7f9961
      size: 59369
  create-error-detection-dataset:
    cmd: python src/stages/create-error-detection-dataset.py --config params.yaml
    deps:
    - path: data/splits/test.csv
      md5: e7ddfb949902c81b7ee76971295b3688
      size: 151272
    - path: data/splits/train.csv
      md5: 135ea87880a8dd2f69684c9a5a9466dc
      size: 532103
    - path: data/splits/val.csv
      md5: c74421cede23176eed7e7323ee7f9961
      size: 59369
    - path: src/stages/create-error-detection-dataset.py
      md5: 1065d8e37c5da1c9ea4156db41b3d2e5
      size: 2568
    params:
      params.yaml:
        base:
          loglevel: INFO
          seed: 8232
          raw-data-zip: data/raw/ICDAR2019_POCR_competition_dataset.zip
        create-error-detection-dataset:
          size: 35
          step: 30
          max-edit-distance: 0.3
          dataset: data/processed/correction-dataset
    outs:
    - path: data/processed/correction-dataset
      md5: a1383bc7cad91b4632ca06e1a45b37de.dir
      size: 77549763
      nfiles: 10
